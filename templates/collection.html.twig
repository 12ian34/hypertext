{# A collection is a generic content display, suitable for very lean pages. #}
{# Blog is going to offer more flexibility. #}

{% embed 'partials/base.html.twig' %}

	{% set collection = page.collection()|length > 0 ? page.collection() : page.children.visible %}

	{% block content %}
    {{ page.content }}

    {% for child in collection.order(header.content.order.by|default('date'), header.content.order.dir|default('desc')) %}
      {% include 'partials/item_snippet.html.twig' with {'page':child, truncate:true} %}
    {% endfor %}
    
	{% if config.plugins.pagination.enabled and collection.params.pagination %}
    {% include 'partials/pagination.html.twig' with {'base_url':page.url, 'pagination':collection.params.pagination} %}
	{% endif %}
	{% endblock %}

{% endembed %}
